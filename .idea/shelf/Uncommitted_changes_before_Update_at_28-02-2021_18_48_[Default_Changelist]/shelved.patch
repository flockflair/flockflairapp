Index: app/src/main/java/com/example/flockflairapp/phonenumber.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.flockflairapp;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.ChildEventListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class phonenumber extends AppCompatActivity {\r\n\r\n    EditText editText;\r\n    Button buttonContinue;\r\n    DatabaseReference databaseReference;\r\n    DatabaseReference userReference;\r\n    String phoneNum = null;\r\n    TextView SignUp;\r\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_phonenumber);\r\n\r\n        editText = findViewById(R.id.editTextMobile);\r\n        buttonContinue = findViewById(R.id.buttonContinue);\r\n        SignUp = findViewById(R.id.SignUp);\r\n\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference();\r\n        userReference = databaseReference.child(\"user\");\r\n        Log.d(\"Error\", String.valueOf(databaseReference));\r\n\r\n        buttonContinue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                final String regexStr = \"^(?:(?:\\\\+|0{0,2})91(\\\\s*[\\\\-]\\\\s*)?|[0]?)?[789]\\\\d{9}$\";\r\n                phoneNum = editText.getText().toString();\r\n                Log.d(\"Phone\", String.valueOf(phoneNum));\r\n                if (phoneNum.length() != 10 || !phoneNum.matches(regexStr)) {\r\n                    editText.setError(\"Enter the proper number\");\r\n                    editText.requestFocus();\r\n                    return;\r\n                }\r\n\r\n                final Query queryRef = userReference.orderByChild(\"phone\").equalTo(phoneNum);\r\n                Log.d(\"Error\", String.valueOf(queryRef));\r\n\r\n                if(phoneNum != null){\r\n                    Toast.makeText(getApplicationContext(), phoneNum, Toast.LENGTH_SHORT).show();\r\n                    queryRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            Log.d(\"Snapshot\", String.valueOf(snapshot));\r\n\r\n                            if(snapshot.exists()){\r\n                                Toast.makeText(phonenumber.this, \"Correct Number\", Toast.LENGTH_LONG).show();\r\n                                Intent intent = new Intent(getApplicationContext(), OtpActivity.class);\r\n                                intent.putExtra(\"phoneNum\", phoneNum);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            }\r\n                            else{\r\n                                Toast.makeText(phonenumber.this, \"Number does not exist\", Toast.LENGTH_LONG).show();\r\n                                editText.setText(\"\");\r\n                                editText.requestFocus();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        SignUp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(), SignUp.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if (user != null){\r\n            Intent mainIntent = new Intent(phonenumber.this,MainActivity.class);\r\n            mainIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            startActivity(mainIntent);\r\n        }else{\r\n            SignUp.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(getApplicationContext(), SignUp.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/flockflairapp/phonenumber.java	(revision df9c4b6c1ec6cfead09ee4fef8c8e623aba626a4)
+++ app/src/main/java/com/example/flockflairapp/phonenumber.java	(date 1614509066651)
@@ -94,14 +94,14 @@
             }
         });
 
-        SignUp.setOnClickListener(new View.OnClickListener() {
+      /*  SignUp.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
                 Intent intent = new Intent(getApplicationContext(), SignUp.class);
                 startActivity(intent);
                 finish();
             }
-        });
+        });*/
 
     }
 
